(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{"0rqv":function(e,t,n){},AI0V:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("QbLZ"),i=n.n(o);function a(e,t,n,o){var a={};if(t&&t.antLocale&&t.antLocale[n])a=t.antLocale[n];else{var r=o();a=r["default"]||r}var s=i()({},a);return e.locale&&(s=i()({},s,e.locale),e.locale.lang&&(s.lang=i()({},a.lang,e.locale.lang))),s}},YEIV:function(e,t,n){"use strict";t.__esModule=!0;var o=n("SEkw"),i=a(o);function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,n){return t in e?(0,i.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},hZiy:function(e,t,n){"use strict";n.r(t),t["default"]={cancelText:"\u53d6\u6d88"}},kMp1:function(e,t,n){},lgKN:function(e,t,n){"use strict";n.r(t);n("mw1O");var o=n("nJCp"),i=(n("ywh3"),n("kMp1"),n("QbLZ")),a=n.n(i),r=n("YEIV"),s=n.n(r),u=n("iCc5"),c=n.n(u),l=n("V7oC"),h=n.n(l),f=n("FYw3"),p=n.n(f),v=n("mRg0"),d=n.n(v),m=n("TSYQ"),g=n.n(m),C=n("q1tI"),y=n.n(C),w=n("17x9"),b=n("uJlo"),E=function(e){return Object.keys(e).reduce((function(t,n){return"aria-"!==n.substr(0,5)&&"data-"!==n.substr(0,5)&&"role"!==n||(t[n]=e[n]),t}),{})},T=n("AI0V");function R(){}var B={prefixCls:"am-search",placeholder:"",onSubmit:R,onChange:R,onFocus:R,onBlur:R,onClear:R,showCancelButton:!1,disabled:!1};function S(e){return window.requestAnimationFrame?window.requestAnimationFrame(e):window.setTimeout(e,1)}function M(e){window.cancelAnimationFrame?window.cancelAnimationFrame(e):window.clearTimeout(e)}var k=function(e){function t(e){c()(this,t);var n=p()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.onSubmit=function(e){e.preventDefault(),n.props.onSubmit&&n.props.onSubmit(n.state.value||""),n.inputRef&&n.inputRef.blur()},n.onChange=function(e){n.state.focus||n.setState({focus:!0});var t=e.target.value;"value"in n.props||n.setState({value:t}),n.props.onChange&&n.props.onChange(t)},n.onFocus=function(){n.setState({focus:!0}),n.firstFocus=!0,n.props.onFocus&&n.props.onFocus()},n.onBlur=function(){n.onBlurTimeout=S((function(){n.blurFromOnClear||document.activeElement!==n.inputRef&&n.setState({focus:!1}),n.blurFromOnClear=!1})),n.props.onBlur&&(setTimeout((function(){document.body&&(document.body.scrollTop=document.body.scrollTop)}),100),n.props.onBlur())},n.onClear=function(){n.doClear()},n.doClear=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n.blurFromOnClear=e,"value"in n.props||n.setState({value:""}),n.props.onClear&&n.props.onClear(""),n.props.onChange&&n.props.onChange(""),e&&n.focus()},n.onCancel=function(){n.props.onCancel?n.props.onCancel(n.state.value||""):n.doClear(!1)},n.focus=function(){n.inputRef&&n.inputRef.focus()};var o=void 0;return o="value"in e?e.value||"":"defaultValue"in e?e.defaultValue:"",n.state={value:o,focus:!1},n}return d()(t,e),h()(t,[{key:"componentDidMount",value:function(){if(this.rightBtnRef){var e=window.getComputedStyle(this.rightBtnRef);this.rightBtnInitMarginleft=e.marginLeft}this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){if(this.syntheticPhRef)if(this.inputContainerRef&&this.inputContainerRef.className.indexOf(this.props.prefixCls+"-start")>-1){if(this.syntheticPhContainerRef){var e=this.syntheticPhContainerRef.getBoundingClientRect().width;this.syntheticPhRef.style.width=Math.ceil(e)+"px"}!this.props.showCancelButton&&this.rightBtnRef&&(this.rightBtnRef.style.marginRight="0")}else this.syntheticPhRef.style.width="100%",!this.props.showCancelButton&&this.rightBtnRef&&(this.rightBtnRef.style.marginRight="-"+(this.rightBtnRef.offsetWidth+(null!=this.rightBtnInitMarginleft?parseInt(this.rightBtnInitMarginleft,10):0))+"px")}},{key:"componentWillReceiveProps",value:function(e){"value"in e&&e.value!==this.state.value&&this.setState({value:e.value})}},{key:"componentWillUnmount",value:function(){this.onBlurTimeout&&(M(this.onBlurTimeout),this.onBlurTimeout=null)}},{key:"render",value:function(){var e,t=this,o=this.props,i=o.prefixCls,r=o.showCancelButton,u=o.disabled,c=o.placeholder,l=o.className,h=o.style,f=o.maxLength,p=Object(T["a"])(this.props,this.context,"SearchBar",(function(){return n("hZiy")})),v=p.cancelText,d=this.state,m=d.value,y=d.focus,w=g()(i,l,s()({},i+"-start",!!(y||m&&m.length>0))),R=g()(i+"-clear",s()({},i+"-clear-show",!!(y&&m&&m.length>0))),B=g()(i+"-cancel",(e={},s()(e,i+"-cancel-show",!!(r||y||m&&m.length>0)),s()(e,i+"-cancel-anim",this.firstFocus),e));return C["createElement"]("form",{onSubmit:this.onSubmit,className:w,style:h,ref:function(e){return t.inputContainerRef=e},action:"#"},C["createElement"]("div",{className:i+"-input"},C["createElement"]("div",{className:i+"-synthetic-ph",ref:function(e){return t.syntheticPhRef=e}},C["createElement"]("span",{className:i+"-synthetic-ph-container",ref:function(e){return t.syntheticPhContainerRef=e}},C["createElement"]("i",{className:i+"-synthetic-ph-icon"}),C["createElement"]("span",{className:i+"-synthetic-ph-placeholder",style:{visibility:c&&!m?"visible":"hidden"}},c))),C["createElement"]("input",a()({type:"search",className:i+"-value",value:m,disabled:u,placeholder:c,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,ref:function(e){return t.inputRef=e},maxLength:f},E(this.props))),C["createElement"](b["a"],{activeClassName:i+"-clear-active"},C["createElement"]("a",{onClick:this.onClear,className:R}))),C["createElement"]("div",{className:B,onClick:this.onCancel,ref:function(e){return t.rightBtnRef=e}},this.props.cancelText||v))}}]),t}(C["Component"]),F=k;k.defaultProps=B,k.contextTypes={antLocale:w["object"]};var N=n("ODXe"),O=n("9kvl");t["default"]=()=>{var e=null,t=Object(C["useState"])(""),n=Object(N["a"])(t,2),i=n[0],a=n[1];return Object(C["useEffect"])(()=>{e.focus()},[]),y.a.createElement("div",null,y.a.createElement(F,{placeholder:"\u8f93\u5165\u75be\u75c5\u3001\u533b\u9662\u6216\u533b\u751f",ref:t=>e=t,onCancel:()=>O["b"].goBack(),onChange:e=>{a(e)}}),y.a.createElement(o["a"],null,i))}},mw1O:function(e,t,n){"use strict";n("ywh3"),n("0rqv")},nJCp:function(e,t,n){"use strict";var o=n("iCc5"),i=n.n(o),a=n("V7oC"),r=n.n(a),s=n("FYw3"),u=n.n(s),c=n("mRg0"),l=n.n(c),h=n("TSYQ"),f=n.n(h),p=n("q1tI"),v=function(e){function t(){return i()(this,t),u()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l()(t,e),r()(t,[{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=e.size,o=e.className,i=e.children,a=e.style,r=f()(t,t+"-"+n,o);return p["createElement"]("div",{className:r,style:a},i)}}]),t}(p["Component"]);t["a"]=v,v.defaultProps={prefixCls:"am-wingblank",size:"lg"}},uJlo:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var o=n("QbLZ"),i=n.n(o),a=n("iCc5"),r=n.n(a),s=n("V7oC"),u=n.n(s),c=n("FYw3"),l=n.n(c),h=n("mRg0"),f=n.n(h),p=n("q1tI"),v=n.n(p),d=n("TSYQ"),m=n.n(d),g=function(e){function t(){r()(this,t);var e=l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={active:!1},e.onTouchStart=function(t){e.triggerEvent("TouchStart",!0,t)},e.onTouchMove=function(t){e.triggerEvent("TouchMove",!1,t)},e.onTouchEnd=function(t){e.triggerEvent("TouchEnd",!1,t)},e.onTouchCancel=function(t){e.triggerEvent("TouchCancel",!1,t)},e.onMouseDown=function(t){e.triggerEvent("MouseDown",!0,t)},e.onMouseUp=function(t){e.triggerEvent("MouseUp",!1,t)},e.onMouseLeave=function(t){e.triggerEvent("MouseLeave",!1,t)},e}return f()(t,e),u()(t,[{key:"componentDidUpdate",value:function(){this.props.disabled&&this.state.active&&this.setState({active:!1})}},{key:"triggerEvent",value:function(e,t,n){var o="on"+e,i=this.props.children;i.props[o]&&i.props[o](n),t!==this.state.active&&this.setState({active:t})}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.disabled,o=e.activeClassName,a=e.activeStyle,r=n?void 0:{onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd,onTouchCancel:this.onTouchCancel,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onMouseLeave:this.onMouseLeave},s=v.a.Children.only(t);if(!n&&this.state.active){var u=s.props,c=u.style,l=u.className;return!1!==a&&(a&&(c=i()({},c,a)),l=m()(l,o)),v.a.cloneElement(s,i()({className:l,style:c},r))}return v.a.cloneElement(s,r)}}]),t}(v.a.Component),C=g;g.defaultProps={disabled:!1}}}]);